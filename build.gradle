releaseVersion = '0.0'

apply plugin: 'eclipse'
//apply plugin: 'idea' // by all means use this fine IDE, but it's opt-in.
apply plugin: 'java'
apply plugin: 'yd'
apply plugin: 'code-quality'

sourceCompatibility = "1.6"

dependencies {
    // these will vary, but think about logging. It's a user interface.
    compile group: 'log4j',             name: 'log4j',               version: '1.2.15'
    compile group: 'org.hamcrest',      name: 'hamcrest-all',        version: '1.2'
    compile group: 'com.google.guava',  name: 'guava',               version: '11.0'
    
    testCompile    (group: "junit",         name: "junit-dep",           version: "4.10") {
        exclude module: "hamcrest-core"
    }
    testCompile     group: 'org.jmock',     name: 'jmock',               version: '2.6.0-RC1'
}

eclipseClasspath {
    variables = [
        GRADLE_CACHE: file(gradle.gradleUserHomeDir.absolutePath + "/cache")
    ]
}

// this block is here to tell Gradle to fetch our youDevise plugins.
// so don't edit anything below this point unless you have to
buildscript {
    repositories {
        mavenRepo name: 'ydCentral', urls: "${repoUrl}/groups/public"
    }
    dependencies {
        classpath group: 'com.youdevise', name: 'gradle-plugins', version: "0.+"
    }
}

task sourcesJar(type: Jar, dependsOn:classes) {
     classifier = 'sources'
     from sourceSets.main.allSource
}

artifacts {
     archives sourcesJar
}
